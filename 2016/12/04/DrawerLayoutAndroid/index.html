<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Trust, TrustTheBoy, 贾国瑞, 小瑞, SmallRui"><title>DrawerLayoutAndroid - Trust</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><div class="post-header"><img class="background" src="/default_images/post_background.jpg"><div class="post-title"><h1 class="title">DrawerLayoutAndroid</h1><ul class="meta"><li><i class="icon icon-author"></i>Trust</li><li><i class="icon icon-clock"></i>9 Minutes</li><li><i class="icon icon-calendar"></i>December 4, 2016</li></ul></div></div><div class="article-content" style="max-width:900px;"><blockquote>
<p>仅限Android平台的抽屉式组件.<br>子视图会成为主视图.<br>可在指定的窗口侧面拖拽出来.</p>
</blockquote>
<a id="more"></a>
<font style="color:green;">本章节代码已上传Github</font><br>&gt;URL:<a href="https://github.com/TrustTheBoy/React-Native-BBS" target="_blank" rel="external">https://github.com/TrustTheBoy/React-Native-BBS</a><br>&gt;找不到的请聊天区留言.<br>&gt;效果图在文章最后.<br>&gt;时间太紧,页面没怎样美化.<br><br>效果图：<br><img src="http://reactnative.cn/static/docs/0.35/img/components/drawerlayoutandroid.png" style="width:20%;height:35%;"><br><br>官网提供的属性：<br><span style="color:#188eee;font-size:15;font-weight:bold">drawerBackgroundColor</span><br>&gt;指定抽屉的背景颜色。<br>&gt;默认值为白色。<br>&gt;若要设置抽屉的不透明度,请使用rgba。<br><br>    例：drawerBackgroundColor=”rgba(188,0,202,0.5)”<br><span style="color:#188eee;font-size:15;font-weight:bold">drawerWidth</span><br>&gt;指定抽屉从屏幕边缘拖进的视图宽度。<br><br>    例：drawerWidth={230}<br><span style="color:#188eee;font-size:15;font-weight:bold">drawerPosition</span><br>&gt;指定抽屉可以从屏幕的哪一边滑入,可选参数：<br>&gt;DrawerLayoutAndroid.positions.Left<br>&gt;DrawerLayoutAndroid.positions.Right<br><br>    例：drawerPosition={DrawerLayoutAndroid.positions.Left}<br><span style="color:#188eee;font-size:15;font-weight:bold">drawerLockMode</span><br>&gt;设置抽屉的锁定模式,三种模式<br>  - unlocked：不锁定，可以响应打开和关闭操作，默认值;<br>  - locked-losed：抽屉保持关闭，不能用手势打开<br>  - locked-open：抽屉保持打开，不能用手势关闭;<br><br>    例：drawerLockMode=’locked-open’<br><br><span style="color:#188eee;font-size:15;font-weight:bold">keyboardDismissMode</span><br>&gt;设置拖动过程中是否隐藏软键盘,可选值有<br>  - none：不隐藏,默认值<br>  - on-drag：拖动时隐藏<br><br>    例：keyboardDismissMode=”on-drag”<br><br><span style="color:#188eee;font-size:15;font-weight:bold">statusBarBackgroundColor</span><br>&gt;使抽屉占满整个屏幕，并设置状态栏颜色(支持API21+/安卓系统5.0以上)<br><br>    例：statusBarBackgroundColor=’red’<br><br><span style="color:#188eee;font-size:15;font-weight:bold">onDrawerStateChanged</span><br>&gt;抽屉的状态变化时调用此回调函数<br>  - Idle：空闲状态，即没有发生任何交互；<br>  - Dragging：正在拖动状态，用户正在进行交互；<br>  - Settling：依靠中状态，用户刚刚结束交互;<br><br>    例：onDrawerStateChanged={(state)=&gt;this._DrawerStateChanged(state)}<br><span style="color:#188eee;font-size:15;font-weight:bold">onDrawerOpen</span><br>&gt;每当导航视图（抽屉）被打开之后调用此回调函数<br><br>    例：onDrawerOpen={()=&gt;{console.log(‘打开了’)}}<br><span style="color:#188eee;font-size:15;font-weight:bold">onDrawerClose</span><br>&gt;每当导航视图（抽屉）被关闭之后调用此回调函数<br><br>    例：onDrawerClose={()=&gt;{console.log(‘关闭了’)}}<br><span style="color:#188eee;font-size:15;font-weight:bold">onDrawerSlide</span><br>&gt;每当导航视图（抽屉）产生交互的时候调用此回调函数<br><br>    例：onDrawerSlide={()=&gt;console.log(“正在交互……”)}<br><span style="color:#188eee;font-size:15;font-weight:bold">renderNavigationView</span><br>&gt;用于渲染一个可以从屏幕一边拖入的导航视图<br><br>    例：renderNavigationView={() =&gt; navigationView}<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">let navigationView = (</div><div class="line">  &lt;View style=&#123;&#123;flex:1&#125;&#125;&gt;			</div><div class="line">    &lt;Text style=&#123;&#123;margin:10,fontSize:24,color:&apos;#188eee&apos;,&#125;&#125;&gt;</div><div class="line">      我是侧边栏/抽屉</div><div class="line">    &lt;/Text&gt;</div><div class="line">	&lt;TextInput style=&#123;&#123;width:300,height:40,backgroundColor:&apos;#fff&apos;&#125;&#125;/&gt;</div><div class="line">	&lt;TouchableHighlight</div><div class="line">	  onPress=&#123;()=&gt;this.closeDrawer()&#125;</div><div class="line">	  style=&#123;&#123;padding:10,backgroundColor:&apos;#e6e6e6&apos;,marginTop:20&#125;&#125;</div><div class="line">	&gt;</div><div class="line">	  &lt;Text style=&#123;&#123;textAlign:&apos;center&apos;,&#125;&#125;&gt;</div><div class="line">		closeDrawer:关闭抽屉</div><div class="line">	  &lt;/Text&gt;</div><div class="line">	&lt;/TouchableHighlight&gt;</div><div class="line"> &lt;/View&gt;</div><div class="line">);</div></pre></td></tr></table></figure><br><br><font style="color:red;">navigationView视图中如果设置了backgroundColor,会覆盖drawerBackgroundColor，不少人在这里遇坑，以为drawerBackgroundColor不起作用</font>

<p>DrawerLayoutAndroid 属性 code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;DrawerLayoutAndroid</div><div class="line">	ref=&#123;&apos;drawerLayout&apos;&#125;</div><div class="line">	drawerBackgroundColor=&quot;rgba(188,0,202,0.5)&quot;</div><div class="line">	drawerWidth=&#123;230&#125; 	</div><div class="line">	drawerPosition=&#123;DrawerLayoutAndroid.positions.Left&#125; 	     </div><div class="line">	renderNavigationView=&#123;() =&gt; navigationView&#125; </div><div class="line">	onDrawerOpen=&#123;()=&gt;&#123;console.log(&apos;打开了&apos;)&#125;&#125; </div><div class="line">	onDrawerClose=&#123;()=&gt;&#123;console.log(&apos;关闭了&apos;)&#125;&#125;</div><div class="line">	onDrawerSlide=&#123;()=&gt;console.log(&quot;正在交互......&quot;)&#125;</div><div class="line">	onDrawerStateChanged=&#123;(state)=&gt;this._DrawerStateChanged(state)&#125; </div><div class="line">	drawerLockMode=&apos;locked-open&apos; 		</div><div class="line">	keyboardDismissMode=&quot;on-drag&quot;	</div><div class="line">	statusBarBackgroundColor=&apos;red&apos;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>此组件还提供openDrawer 与 closeDrawer</p>
<blockquote>
<p>openDrawer:打开抽屉<br>closeDrawer：关闭抽屉</p>
</blockquote>
<font style="color:green">无论抽屉处于那种状态，<br>都仍然可以调用openDrawer/closeDrawer这两个方法打开和关闭</font>

<p>实例：部分代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">openDrawer()&#123;		</div><div class="line">	this.refs.drawerLayout.openDrawer()</div><div class="line">&#125;</div><div class="line">closeDrawer()&#123;</div><div class="line">	this.refs.drawerLayout.closeDrawer()</div><div class="line">&#125;</div><div class="line">.....(省略其他)...</div><div class="line">&lt;TouchableHighlight</div><div class="line">  onPress=&#123;()=&gt;this.openDrawer()&#125;</div><div class="line">  style=&#123;&#123;padding:10,backgroundColor:&apos;#e6e6e6&apos;&#125;&#125;</div><div class="line">&gt;</div><div class="line">  &lt;Text style=&#123;&#123;textAlign:&apos;center&apos;,&#125;&#125;&gt;</div><div class="line">    openDrawer:打开抽屉</div><div class="line">  &lt;/Text&gt;</div><div class="line">&lt;/TouchableHighlight&gt;</div><div class="line">&lt;TouchableHighlight</div><div class="line">  onPress=&#123;()=&gt;this.closeDrawer()&#125;</div><div class="line">  style=&#123;&#123;padding:10,backgroundColor:&apos;#e6e6e6&apos;&#125;&#125;</div><div class="line">&gt;</div><div class="line">  &lt;Text style=&#123;&#123;textAlign:&apos;center&apos;,&#125;&#125;&gt;</div><div class="line">    closeDrawer:关闭抽屉</div><div class="line">  &lt;/Text&gt;</div><div class="line">&lt;/TouchableHighlight&gt;</div></pre></td></tr></table></figure>
<p>最后的效果:</p>
<p>欢迎你的加入！</p>
<font style="color:green;font-weight:bold">公众号：Domeday</font>

<p>推送时间为：</p>
<blockquote>
<p>AM 7：00 ~ AM 8：30<br>PM 9：30 ~ PM 11：00</p>
</blockquote>
<p><span style="color:#B2B2B2">在互联网这个行业，技术的更新迭代速度很快，唯有不断学习和尝试，我们才能立于不败之地，人都是做自己原本不能胜任的事情中，才能快速成长。所以，不要让任何事情成为你不去学习的理由！，你学过的每一样东西，都会在你一生的某个时候派上用场的。<br></span></p>
</div><div class="article-meta" style="max-width:900px;"></div><div class="article-comment" style="max-width:900px;"><div class="ds-thread" id="ds-thread" data-thread-key="ciz2ds6eb0001kogbld6oi4m4" data-title="DrawerLayoutAndroid" data-url="http://yoursite.com/2016/12/04/DrawerLayoutAndroid/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
  <!-- trusttheboy.github.io/ Baidu tongji analytics -->
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?fe3f5969cfe3bf9255462b6403670fb4";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2016/12/04/LayoutAnimation/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2016/12/04/100本计算机相关书籍/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/TrustTheBoy" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/5972812599/profile?topnav=1&amp;wvr=6&amp;is_all=1" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="https://segmentfault.com/u/trusttheboy" title="SegmentFault" target="_blank"><i class="icon icon-segmentfault"></i></a></li><li><a href="https://segmentfault.com/u/trusttheboy" title="Linkin" target="_blank"><i class="icon icon-linkin"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2017 Trust</p></div></div></body></html>